(this["webpackJsonpphoto-dps-labs-react"]=this["webpackJsonpphoto-dps-labs-react"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports="static/media/PhotoGallery.e1d9747c.svg"},,function(e,t,a){e.exports="static/media/face.3ce65b80.svg"},,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),o=a.n(c),i=(a(17),a(9)),l=a(3),s=a(4),m=a(10),u=a(5),g=a(11),h=(a(18),a(19),a(6)),p=a.n(h),E=(a(20),function(e){var t=e.btnClassName,a=e.onBtnClick,n=e.btnTitle,c="btn "+t;return r.a.createElement("button",{className:c,onClick:a},n)}),f=function(e){var t=e.onEnter,a=e.onClearHistory,n=e.btnClassName;return r.a.createElement("div",{className:"home"},r.a.createElement("img",{className:"photoGallery",src:p.a,alt:"gallery"}),r.a.createElement("div",{className:"btn-group"},r.a.createElement(E,{btnClassName:"greenBtn",onBtnClick:t,btnTitle:"Open camera"}),r.a.createElement(E,{btnClassName:n,onBtnClick:a,btnTitle:"Clear history"})))},d=(a(21),a(7)),b=a.n(d),C=a(8),v=a.n(C),y={width:1280,height:720,facingMode:"user"},N=function(e){var t=e.onCapture,a=e.onEnter,c=Object(n.useRef)(null),o=Object(n.useCallback)((function(){var e=c.current.getScreenshot(),a=Date.now();localStorage.setItem(a,e),t(a)}),[c]);return r.a.createElement("div",{className:"webcamCapture"},r.a.createElement("div",{className:"video-container"},r.a.createElement(b.a,{audio:!1,height:720,ref:c,screenshotFormat:"image/jpeg",width:1280,videoConstraints:y,mirrored:!1,onUserMediaError:a}),r.a.createElement("img",{className:"face",src:v.a,alt:"face"})),r.a.createElement("div",{className:"btn-group"},r.a.createElement(E,{btnClassName:"greenBtn",onBtnClick:o,btnTitle:"Capture"}),r.a.createElement(E,{btnClassName:"whiteBtn",onBtnClick:a,btnTitle:"Back"})))},k=(a(22),function(e){var t=e.imgArr.map((function(e){var t=e.id,a=e.imgSrc;return r.a.createElement("img",{className:"photo-item",key:t,src:a,alt:"photo"+t})}));return r.a.createElement("div",{className:"history"},r.a.createElement("p",{className:"historyTitle"},"History"),r.a.createElement("div",{className:"img-container"},t))}),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isCameraEnter:!1,imgArr:[]},a.onEnter=function(){a.setState({isCameraEnter:!a.state.isCameraEnter})},a.onCapture=function(e){var t=localStorage.getItem(e);a.setState((function(a){return{imgArr:[].concat(Object(i.a)(a.imgArr),[{id:e,imgSrc:t}])}}))},a.onClearHistory=function(){localStorage.clear(),a.setState({imgArr:[]})},a}return Object(g.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],t=0;t<localStorage.length;t++)e.push({id:localStorage.key(t),imgSrc:localStorage.getItem(localStorage.key(t))});e.sort((function(e,t){return e.id-t.id})),this.setState({imgArr:[].concat(e)})}},{key:"render",value:function(){var e=this.state,t=e.isCameraEnter,a=e.imgArr;return r.a.createElement("div",{className:"App"},t?r.a.createElement(N,{onEnter:this.onEnter,onCapture:this.onCapture}):r.a.createElement(f,{onEnter:this.onEnter,onClearHistory:this.onClearHistory,btnClassName:a.length?"redBtn":"grayBtn"}),a.length?r.a.createElement(k,{imgArr:a}):null)}}]),t}(n.Component);o.a.render(r.a.createElement(S,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.6ec67eda.chunk.js.map